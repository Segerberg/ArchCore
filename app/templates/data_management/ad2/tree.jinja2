{% extends "base.jinja2" %}
{% block content %}

{% include "data_management/_submenu.jinja2" %}
    <div class="flex-container">
        <!-- Left column: Tree structure -->
        <div class="tree-column">
            <h2>{{node.title}}</h2>
            <ul>
                <li>
                    <details open>
                        <summary hx-get="/node/{{ node.id }}/details" hx-target="#details">{{ node.title }}</summary>
                        <ul>
                            {% for child in node.children %}
                            <li>
                                <details>
                                    <summary hx-get="/node/{{ child.id }}/details" hx-target="#details">{{ child.title }}</summary>
                                    <ul hx-get="/node/{{ child.id }}/children" hx-trigger="revealed" hx-target="this" hx-swap="outerHTML">
                                    </ul>
                                </details>
                            </li>
                            {% endfor %}
                        </ul>
                    </details>
                </li>
            </ul>
        </div>

        <!-- Center column: Node details -->
        <div class="node-column">
            <div id="details">
                <p>Select a node to view details.</p>
            </div>
        </div>

        <!-- Right column: Action buttons -->
        <div class="action-column">
            <h2>Actions</h2>
            <button hx-get="/node/{{ node.id }}/export" hx-target="#details">Export Node</button>


        </div>
    </div>

{% endblock %}