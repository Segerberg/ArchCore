{% extends "base.jinja2" %}
{% block content %}
{% include "data_management/_submenu.jinja2" %}
<h2>Editing {{node.title}}</h2>
<div>
    <form method="POST" action="{{ url_for('data_management.edit_node', id=node.id) }}">
        <div>
            <label for="title">Reference Code</label>
            <input type="text" id="ref_code" name="ref_code" value="{{ node.ref_code }}">
        </div>
        <div>
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{ node.title }}">
        </div>

        <div>
            <label for="date_start">Start Date</label>
            <input type="date" id="date_start" name="date_start" value="{{ node.date_start.strftime('%Y-%m-%d') if node.date_start else '' }}">
        </div>

        <div>
            <label for="date_end">End Date</label>
            <input type="date" id="date_end" name="date_end" value="{{ node.date_end.strftime('%Y-%m-%d') if node.date_end else '' }}">
        </div>

        <div>
            <label for="archival_history">Archival History</label>
            <textarea id="archival_history" name="archival_history">{{ node.archival_history }}</textarea>
        </div>

        <div>
            <label for="level_of_description">Level of Description</label>
            <select id="level_of_description" name="level_of_description">
                {% for level in lod_list %}
                <option value="{{ level }}" {% if level == node.level_of_description %}selected{% endif %}>{{ level }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit">Save Changes</button>
    </form>
</div>
{% endblock %}